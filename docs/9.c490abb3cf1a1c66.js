"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[9],{5009:(B,v,i)=>{i.r(v),i.d(v,{MoviesModule:()=>M});var d=i(6814),p=i(5861),e=i(9468),u=function(s){return s.ASC="ascendant",s.DSC="descendant",s}(u||{}),g=i(4033),_=i(6184),m=i(8565),r=i(8719);let y=(()=>{class s extends m.w{set title(t){this.title_value.set(t)}constructor(t,a){super(t,a),this.route=t,this.router=a,this.title_value=(0,e.tdS)("")}sortTitle(t){this.addQuery(t.value,"title")}static#e=this.\u0275fac=function(a){return new(a||s)(e.Y36(r.gz),e.Y36(r.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-sort-by-title"]],inputs:{title:"title"},features:[e.qOj],decls:7,vars:1,consts:[[1,"btn","button-primary",3,"value","change"],["selected","","value",""],["value","ascendant"],["value","descendant"]],template:function(a,n){1&a&&(e.TgZ(0,"select",0),e.NdJ("change",function(c){return n.sortTitle(c.target)}),e.TgZ(1,"option",1),e._uU(2,"Sort title by..."),e.qZA(),e.TgZ(3,"option",2),e._uU(4,"Ascendant"),e.qZA(),e.TgZ(5,"option",3),e._uU(6,"Descendant"),e.qZA()()),2&a&&e.Q6J("value",n.title_value()||"")}})}return s})(),C=(()=>{class s extends m.w{set releaseDate(t){this.release_date_value.set(t)}constructor(t,a){super(t,a),this.route=t,this.router=a,this.release_date_value=(0,e.tdS)("")}sortReleaseDate(t){this.addQuery(t.value,"releaseDate")}static#e=this.\u0275fac=function(a){return new(a||s)(e.Y36(r.gz),e.Y36(r.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-sort-by-release-date"]],inputs:{releaseDate:"releaseDate"},features:[e.qOj],decls:7,vars:1,consts:[[1,"btn","button-primary",3,"value","change"],["selected","","value",""],["value","ascendant"],["value","descendant"]],template:function(a,n){1&a&&(e.TgZ(0,"select",0),e.NdJ("change",function(c){return n.sortReleaseDate(c.target)}),e.TgZ(1,"option",1),e._uU(2,"Sort release date by..."),e.qZA(),e.TgZ(3,"option",2),e._uU(4,"Ascendant"),e.qZA(),e.TgZ(5,"option",3),e._uU(6,"Descendant"),e.qZA()()),2&a&&e.Q6J("value",n.release_date_value()||"")}})}return s})();function T(s,l){1&s&&e._UZ(0,"app-card-movie",7),2&s&&e.Q6J("movie",l.$implicit)}let Z=(()=>{class s{constructor(t){this.moviesService=t,this.before_title_value="",this.before_release_date_value="",this.title_value=(0,e.tdS)(""),this.release_date_value=(0,e.tdS)(""),this._movies=(0,e.tdS)([]),this.movies=(0,e.Flj)(()=>this.sort(this._movies(),this.title_value(),this.release_date_value())||this.moviesService.getMovies)}set title(t){this.title_value.set(t)}set releaseDate(t){this.release_date_value.set(t)}ngOnInit(){var t=this;return(0,p.Z)(function*(){yield t.moviesService.getMoviesApi(),t._movies.set(t.moviesService.getMovies)})()}sort(t,a,n){return t=a!==this.before_title_value?((s,l)=>s.sort((t,a)=>{const n=t.title?.toLocaleLowerCase(),o=a.title?.toLocaleLowerCase();return l===u.ASC?n>o?1:n<o?-1:0:n<o?1:n>o?-1:0}))(t,a):((s,l)=>(""===l||!l||(s=s.sort((t,a)=>{const n=new Date(t.released_date),o=new Date(a.released_date);return l===u.ASC?n>o?1:n<o?-1:0:n<o?1:n>o?-1:0})),s))(t,n),this.before_title_value=a,this.before_release_date_value=n,t}static#e=this.\u0275fac=function(a){return new(a||s)(e.Y36(g.I))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-movies"]],inputs:{title:"title",releaseDate:"releaseDate"},decls:8,vars:3,consts:[[1,"movies"],[1,"mb-3","title-section"],[1,"filters"],[3,"title"],[3,"releaseDate"],[1,"grid","mt-4"],[3,"movie",4,"ngFor","ngForOf"],[3,"movie"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Latest movies"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-sort-by-title",3)(5,"app-sort-by-release-date",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,T,1,1,"app-card-movie",6),e.qZA()()),2&a&&(e.xp6(4),e.Q6J("title",n.title_value()),e.xp6(1),e.Q6J("releaseDate",n.release_date_value()),e.xp6(2),e.Q6J("ngForOf",n.movies()))},dependencies:[d.sg,_.m,y,C],styles:[".movies[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{max-width:35%;display:flex;justify-content:space-between}@media (max-width: 1200px){.movies[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{max-width:40%!important}}@media (max-width: 768px){.movies[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{max-width:100%!important;justify-content:space-evenly!important}}"]})}return s})();var S=i(4871),D=i(4555);const A=[{path:"",component:Z}];let M=(()=>{class s{static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275mod=e.oAB({type:s});static#s=this.\u0275inj=e.cJS({imports:[d.ez,S.s,r.Bz.forChild(A),D.F,r.Bz]})}return s})()}}]);