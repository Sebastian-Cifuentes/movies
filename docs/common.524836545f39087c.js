"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[592],{6184:(h,v,i)=>{i.d(v,{m:()=>d});var t=i(9468),g=i(9140),r=i(8719),c=i(6814),m=i(8518);function _(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.handelWatchList(n.movie.id))}),t._UZ(1,"i",9),t.qZA()}}function u(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"span",10),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.handelWatchList(n.movie.id))}),t._UZ(1,"i",11),t.qZA()}}function l(e,a){if(1&e&&(t.TgZ(0,"div",12)(1,"p",13),t._uU(2),t.qZA(),t.TgZ(3,"p",14),t._uU(4),t.qZA(),t.TgZ(5,"p",15),t._uU(6),t.qZA()()),2&e){const o=t.oxw();t.xp6(2),t.Oqu(o.movie.title),t.xp6(2),t.AsE("",o.movie.duration," ",o.movie.released_date,""),t.xp6(2),t.Oqu(o.movie.description)}}let d=(()=>{class e{constructor(o,s){this.storageService=o,this.router=s,this.onchangelist=new t.vpe}goToMovie(o){this.router.navigateByUrl(`/movie/${o}`)}handelWatchList(o){this.movie.in_watch_list=!this.movie.in_watch_list;let s=this.storageService.getMovies();s=s.map(n=>(n.id===o&&(n.in_watch_list=!n.in_watch_list),n)),this.storageService.setMovies([...s]),this.onchangelist.emit(!0)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(g.V),t.Y36(r.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-card-movie"]],inputs:{movie:"movie"},outputs:{onchangelist:"onchangelist"},decls:11,vars:6,consts:[["placement","right","tooltipClass","custom-tooltip",1,"card-movie","pointer","mr-1","mb-3",3,"ngbTooltip"],[1,"card-movie__image"],["class","watch","ngbTooltip","Add to my watch list","placement","top",3,"click",4,"ngIf"],["class","watch","ngbTooltip","Remove to my watch list","placement","top",3,"click",4,"ngIf"],["alt","",1,"image",3,"src","click"],[1,"rate"],[1,"title","mt-2",3,"click"],["info",""],["ngbTooltip","Add to my watch list","placement","top",1,"watch",3,"click"],[1,"fa-solid","fa-clock"],["ngbTooltip","Remove to my watch list","placement","top",1,"watch",3,"click"],[1,"fa-solid","fa-circle-check"],[1,"movie-information"],[1,"title"],[1,"duration"],[1,"desc"]],template:function(s,n){if(1&s&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,_,2,0,"span",2),t.YNc(3,u,2,0,"span",3),t.TgZ(4,"img",4),t.NdJ("click",function(){return n.goToMovie(n.movie.id)}),t.qZA(),t.TgZ(5,"p",5),t._uU(6),t.qZA()(),t.TgZ(7,"p",6),t.NdJ("click",function(){return n.goToMovie(n.movie.id)}),t._uU(8),t.qZA()(),t.YNc(9,l,7,4,"ng-template",null,7,t.W1O)),2&s){const p=t.MAs(10);t.Q6J("ngbTooltip",p),t.xp6(2),t.Q6J("ngIf",!n.movie.in_watch_list),t.xp6(1),t.Q6J("ngIf",n.movie.in_watch_list),t.xp6(1),t.MGl("src","../../../assets/images/",n.movie.thumbnail,"",t.LSH),t.xp6(2),t.Oqu(n.movie.rating),t.xp6(2),t.Oqu(n.movie.title)}},dependencies:[c.O5,m._L],styles:[".card-movie[_ngcontent-%COMP%]{width:250px}.card-movie[_ngcontent-%COMP%]   .card-movie__image[_ngcontent-%COMP%]{height:350px;position:relative}.card-movie[_ngcontent-%COMP%]   .card-movie__image[_ngcontent-%COMP%]   .watch[_ngcontent-%COMP%]{z-index:1;position:absolute;bottom:10px;left:10px}.card-movie[_ngcontent-%COMP%]   .card-movie__image[_ngcontent-%COMP%]   .watch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:25px}.card-movie[_ngcontent-%COMP%]   .card-movie__image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:250px;border-radius:10px;height:350px}.card-movie[_ngcontent-%COMP%]   .card-movie__image[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{margin:0;position:absolute;right:10px;bottom:10px}.card-movie[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.movie-information[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.movie-information[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%], .movie-information[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:gray}"]})}return e})()},4871:(h,v,i)=>{i.d(v,{s:()=>m});var t=i(6814),g=i(8518),r=i(8719),c=i(9468);let m=(()=>{class _{static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275mod=c.oAB({type:_});static#o=this.\u0275inj=c.cJS({imports:[t.ez,g.HK,r.Bz]})}return _})()},8565:(h,v,i)=>{i.d(v,{w:()=>t});class t{constructor(r,c){this.route=r,this.router=c}addQuery(r,c){""!==r&&this.router.navigate([],{relativeTo:this.route,queryParams:{[c]:r},queryParamsHandling:"merge"})}}},4555:(h,v,i)=>{i.d(v,{F:()=>r});var t=i(6814),g=i(9468);let r=(()=>{class c{static#t=this.\u0275fac=function(u){return new(u||c)};static#e=this.\u0275mod=g.oAB({type:c});static#o=this.\u0275inj=g.cJS({imports:[t.ez]})}return c})()},4033:(h,v,i)=>{i.d(v,{I:()=>u});var t=i(5861),g=i(6973),c=i(9468),m=i(9862),_=i(9140);let u=(()=>{class l{constructor(e,a){this.http=e,this.storageService=a,this.api_data="../../assets/data/data.json",this.movies=this.storageService.getMovies()}get getMovies(){return this.movies}set setMovies(e){this.movies=e}getMoviesApi(){var e=this;return(0,t.Z)(function*(){const a=yield function r(l,d){const e="object"==typeof d;return new Promise((a,o)=>{let n,s=!1;l.subscribe({next:p=>{n=p,s=!0},error:o,complete:()=>{s?a(n):e?a(d.defaultValue):o(new g.K)}})})}(e.http.get(e.api_data));[...e.getMovies].forEach(s=>{const n=a.findIndex(p=>p.id===s.id);-1!==n&&a.splice(n,1,s)}),e.setMovies=a,e.storageService.setMovies(e.getMovies)})()}getMovieById(e){return this.getMovies.find(a=>a.id===e)}getMovieByGenre(e){return this.getMovies.map(o=>{const s=o.genre?.map(n=>n.toLowerCase());return{...o,genre:s}}).filter(o=>o.genre?.includes(e.toLowerCase()))}getMoviesList(){return this.getMovies.filter(e=>e.in_watch_list)}search(e){let o=this.getMovies.map(s=>({...s,title:s.title?.toLowerCase()})).filter(s=>s.title?.includes(e));return o=o.map(s=>{const n=this.getMovies.find(p=>p.id===s.id);return{...s,...n}}),o}static#t=this.\u0275fac=function(a){return new(a||l)(c.LFG(m.eN),c.LFG(_.V))};static#e=this.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},9140:(h,v,i)=>{i.d(v,{V:()=>g});var t=i(9468);let g=(()=>{class r{getMovies(){return localStorage.getItem("movies")?JSON.parse(localStorage.getItem("movies")):[]}setMovies(m){localStorage.setItem("movies",JSON.stringify(m))}static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},5861:(h,v,i)=>{function t(r,c,m,_,u,l,d){try{var e=r[l](d),a=e.value}catch(o){return void m(o)}e.done?c(a):Promise.resolve(a).then(_,u)}function g(r){return function(){var c=this,m=arguments;return new Promise(function(_,u){var l=r.apply(c,m);function d(a){t(l,_,u,d,e,"next",a)}function e(a){t(l,_,u,d,e,"throw",a)}d(void 0)})}}i.d(v,{Z:()=>g})}}]);