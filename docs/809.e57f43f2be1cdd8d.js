"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[809],{5809:(T,m,s)=>{s.r(m),s.d(m,{MovieModule:()=>O});var c=s(6814),l=s(5861),e=s(9468),p=s(4033),g=s(8518),v=s(8585);const u=["youTubePlayer"];function _(n,a){1&n&&(e.TgZ(0,"span",16),e._uU(1,"In my watch list"),e.qZA())}function h(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function f(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,h,2,0,"span",17),e.qZA()),2&n){const t=a.$implicit,o=a.index,i=e.oxw();e.xp6(1),e.hij(" ",t,""),e.xp6(1),e.Q6J("ngIf",o!==i.movie.genre.length-1)}}function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"h4",19),e._uU(2,"Trailer"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.KtG(r.dismiss())}),e._UZ(4,"i",21),e.qZA()(),e.TgZ(5,"div",22)(6,"div",23,24)(8,"section"),e._UZ(9,"youtube-player",25),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("videoId",t.video_id)("width",t.videoWidth)("height",t.videoHeight)}}let C=(()=>{class n{constructor(t,o,i){this.moviesService=t,this.modalService=o,this._changeDetectorRef=i,this.onResize=()=>{this.videoWidth=Math.min(this.youTubePlayer.nativeElement.clientWidth,750),this.videoHeight=.6*this.videoWidth,this._changeDetectorRef.detectChanges()}}ngOnInit(){var t=this;return(0,l.Z)(function*(){yield t.getMovie()})()}ngOnDestroy(){window.removeEventListener("resize",this.onResize)}getMovie(){var t=this;return(0,l.Z)(function*(){t.movie=t.moviesService.getMovieById(+t.id)})()}openTrailer(t){this.video_id=this.movie.trailer_link?.split("=")[1],this.modalService.open(t,{size:"lg"}),this.onResize(),window.addEventListener("resize",this.onResize)}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(p.I),e.Y36(g.FF),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-movie"]],viewQuery:function(o,i){if(1&o&&e.Gf(u,5),2&o){let r;e.iGM(r=e.CRH())&&(i.youTubePlayer=r.first)}},inputs:{id:"id"},decls:24,vars:8,consts:[[1,"movie","mt-5"],[1,"movie__image"],["alt","",1,"image",3,"src"],[1,"movie__info"],["class","in-list rate",4,"ngIf"],[1,"title","mb-2"],[1,"rest_info","mb-5"],[1,"rate","mr-4"],[1,"duration","mr-4"],[1,"released_date"],[1,"desc","mb-5"],[1,"gender"],[4,"ngFor","ngForOf"],[1,"btn","button-primary",3,"click"],[1,"fa-regular","fa-circle-play","mr-2"],["content",""],[1,"in-list","rate"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn","button-primary","button-close",3,"click"],[1,"fa-solid","fa-x"],[1,"modal-body"],[1,"youtube-player"],["youTubePlayer",""],[3,"videoId","width","height"]],template:function(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,_,2,0,"span",4),e.TgZ(5,"h2",5),e._uU(6),e.qZA(),e.TgZ(7,"p",6)(8,"span",7),e._uU(9),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.qZA(),e.TgZ(12,"span",9),e._uU(13),e.qZA()(),e.TgZ(14,"p",10),e._uU(15),e.qZA(),e.TgZ(16,"p",11),e._uU(17,"Genero: "),e.YNc(18,f,3,2,"span",12),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){e.CHM(r);const Z=e.MAs(23);return e.KtG(i.openTrailer(Z))}),e._UZ(20,"i",14),e._uU(21," Play trailer "),e.qZA()()(),e.YNc(22,M,10,3,"ng-template",null,15,e.W1O)}2&o&&(e.xp6(2),e.MGl("src","assets/images/",i.movie.thumbnail,"",e.LSH),e.xp6(2),e.Q6J("ngIf",i.movie.in_watch_list),e.xp6(2),e.hij(" ",i.movie.title," "),e.xp6(3),e.Oqu(i.movie.rating),e.xp6(2),e.Oqu(i.movie.duration),e.xp6(2),e.Oqu(i.movie.released_date),e.xp6(2),e.Oqu(i.movie.description),e.xp6(3),e.Q6J("ngForOf",i.movie.genre))},dependencies:[c.sg,c.O5,v.D],styles:[".movie[_ngcontent-%COMP%]{display:flex}.movie[_ngcontent-%COMP%]   .movie__image[_ngcontent-%COMP%]{margin-right:50px}.movie[_ngcontent-%COMP%]   .movie__image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:350px;border-radius:10px}.movie[_ngcontent-%COMP%]   .movie__info[_ngcontent-%COMP%]{position:relative}.movie[_ngcontent-%COMP%]   .movie__info[_ngcontent-%COMP%]   .in-list[_ngcontent-%COMP%]{font-size:12px;position:absolute;top:0;right:0}.movie[_ngcontent-%COMP%]   .movie__info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:35px}.modal-content[_ngcontent-%COMP%]{background-color:#292b2c;color:#fff}.dark-modal[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#fff}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.youtube-player[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 768px){.movie[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.movie[_ngcontent-%COMP%]   .movie__image[_ngcontent-%COMP%]{margin-right:0}.movie[_ngcontent-%COMP%]   .movie__info[_ngcontent-%COMP%]{margin-top:20px}}"]})}return n})();var d=s(8719);const y=[{path:"",component:C}];let O=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.ez,d.Bz.forChild(y),g.bz,v.e,d.Bz]})}return n})()}}]);